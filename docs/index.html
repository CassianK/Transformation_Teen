<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¶Œë¯¼ì°¬ì˜ ë³„ìë¦¬ ìš´ëª… - ê°œì¸ ìë¯¸ë‘ìˆ˜ ë¶„ì„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: white;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 40px 0;
            position: relative;
        }

        .main-title {
            font-size: clamp(2rem, 4vw, 3.5rem);
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            background: linear-gradient(45deg, #ff6b6b, #feca57, #48dbfb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .birth-info {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 25px;
            margin: 30px auto;
            max-width: 500px;
            border: 2px solid rgba(255,255,255,0.2);
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .birth-detail {
            font-size: 1.1rem;
            margin: 8px 0;
        }

        .chart-section {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 30px;
            margin: 40px 0;
            border: 2px solid rgba(255,255,255,0.2);
        }

        .chart-title {
            font-size: 2rem;
            text-align: center;
            margin-bottom: 30px;
            color: #feca57;
        }

        .palace-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 30px 0;
        }

        .palace-card {
            background: rgba(255,255,255,0.15);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            position: relative;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .palace-card.active {
            border-color: #ff6b6b;
            background: rgba(255,107,107,0.2);
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(255,107,107,0.3);
        }

        .palace-name {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 8px;
        }

        .star-name {
            font-size: 1.2rem;
            font-weight: bold;
            margin: 5px 0;
        }

        .special-star {
            color: #ff6b6b;
            font-size: 1.4rem;
        }

        .major-stars {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }

        .star-card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            border-left: 5px solid;
            transition: all 0.3s ease;
        }

        .star-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.2);
        }

        .qisha-card { border-left-color: #e74c3c; }
        .tanlang-card { border-left-color: #f39c12; }
        .pojun-card { border-left-color: #9b59b6; }
        .lianzhen-card { border-left-color: #3498db; }

        .star-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .star-emoji {
            font-size: 2.5rem;
            padding: 10px;
            border-radius: 10px;
            background: rgba(255,255,255,0.2);
        }

        .star-title {
            font-size: 1.4rem;
            font-weight: bold;
        }

        .personality-analysis {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 30px;
            margin: 40px 0;
            border: 2px solid rgba(72,219,251,0.3);
        }

        .section-title {
            font-size: 2rem;
            margin-bottom: 25px;
            text-align: center;
            color: #48dbfb;
        }

        .trait-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .trait-card {
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .trait-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .advice-section {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 30px;
            margin: 40px 0;
            border: 2px solid rgba(254,202,87,0.3);
        }

        .advice-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 25px 0;
        }

        .advice-card {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid;
        }

        .strength-card {
            border-color: rgba(76,175,80,0.5);
        }

        .challenge-card {
            border-color: rgba(255,152,0,0.5);
        }

        .advice-list {
            list-style: none;
            margin: 15px 0;
        }

        .advice-list li {
            margin: 10px 0;
            padding: 8px 12px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            position: relative;
            padding-left: 35px;
        }

        .advice-list li::before {
            content: "âœ“";
            position: absolute;
            left: 12px;
            color: #4CAF50;
            font-weight: bold;
        }

        .interactive-section {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 30px;
            margin: 40px 0;
            text-align: center;
        }

        .action-btn {
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            border: none;
            color: white;
            font-size: 1.1rem;
            font-weight: bold;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
            box-shadow: 0 5px 15px rgba(255,107,107,0.3);
        }

        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255,107,107,0.4);
        }

        .fortune-prediction {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 30px;
            margin: 40px 0;
            border: 2px solid rgba(155,89,182,0.3);
        }

        .years-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .year-card {
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .year-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        /* ëª¨ë°”ì¼ ìµœì í™” */
        @media (max-width: 768px) {
            .palace-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            
            .advice-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .major-stars,
            .trait-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
        }

        /* ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease forwards;
        }

        .fade-in:nth-child(1) { animation-delay: 0.1s; }
        .fade-in:nth-child(2) { animation-delay: 0.2s; }
        .fade-in:nth-child(3) { animation-delay: 0.3s; }
        .fade-in:nth-child(4) { animation-delay: 0.4s; }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ë„êµ¬ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .tool-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .tool-modal.show {
            opacity: 1;
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 20px;
            max-width: 90vw;
            max-height: 90vh;
            overflow-y: auto;
            border: 2px solid rgba(255,255,255,0.2);
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 30px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .modal-header h2 {
            margin: 0;
            color: #feca57;
        }

        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-btn:hover {
            color: #ff6b6b;
        }

        .modal-body {
            padding: 30px;
        }

        /* ê°ì • ë„êµ¬ ìŠ¤íƒ€ì¼ */
        .emotion-tool {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            color: white;
        }

        .emotion-wheel-container {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .emotion-center {
            position: absolute;
            text-align: center;
            z-index: 2;
        }

        .emotion-center #currentMood {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .emotion-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }

        .emotion-buttons button {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            color: white;
            padding: 10px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .emotion-buttons button:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.05);
        }

        .breathing-circle {
            width: 150px;
            height: 150px;
            border: 3px solid #48dbfb;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px auto;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .breathing-circle.active {
            animation: breathingAnimation 4s infinite;
        }

        @keyframes breathingAnimation {
            0%, 100% { transform: scale(1); border-color: #48dbfb; }
            50% { transform: scale(1.2); border-color: #ff6b6b; }
        }

        .breathing-controls {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin: 20px 0;
        }

        .breathing-controls button {
            background: rgba(72,219,251,0.2);
            border: 2px solid rgba(72,219,251,0.5);
            color: white;
            padding: 12px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .breathing-controls button:hover {
            background: rgba(72,219,251,0.3);
        }

        /* ì°½ì‘ ë„êµ¬ ìŠ¤íƒ€ì¼ */
        .creative-tool {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            color: white;
        }

        .canvas-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 15px;
        }

        .canvas-controls button {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            color: white;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .canvas-controls button:hover {
            background: rgba(255,255,255,0.2);
        }

        .canvas-controls button.active {
            background: rgba(254,202,87,0.3);
            border-color: #feca57;
        }

        #artCanvas {
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 10px;
            background: white;
            cursor: crosshair;
        }

        #emotionDiary {
            width: 100%;
            height: 200px;
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            padding: 15px;
            color: white;
            resize: vertical;
            font-family: inherit;
            line-height: 1.6;
        }

        #emotionDiary::placeholder {
            color: rgba(255,255,255,0.6);
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .artwork-thumbnail {
            width: 100%;
            height: 80px;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.3s ease;
            object-fit: cover;
        }

        .artwork-thumbnail:hover {
            transform: scale(1.1);
        }

        /* ë¦¬ë”ì‹­ ë„êµ¬ ìŠ¤íƒ€ì¼ */
        .leadership-tool {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
            color: white;
        }

        .scenario-card {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid rgba(255,255,255,0.2);
        }

        .choice-buttons {
            display: grid;
            gap: 10px;
            margin-top: 20px;
        }

        .choice-buttons button {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            color: white;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .choice-buttons button:hover {
            background: rgba(255,255,255,0.2);
            transform: translateX(5px);
        }

        .tip-cards {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        .tip-card {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 15px;
            border-left: 4px solid #feca57;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* ê³µìœ  ë„êµ¬ ìŠ¤íƒ€ì¼ */
        .share-tool {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            color: white;
        }

        .customization-panel {
            display: grid;
            gap: 15px;
            margin: 20px 0;
        }

        .customization-panel label {
            font-weight: bold;
            margin-bottom: 5px;
            display: block;
        }

        .customization-panel select,
        .customization-panel textarea {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            padding: 10px;
            color: white;
            font-family: inherit;
        }

        .share-checkboxes {
            display: grid;
            gap: 10px;
        }

        .share-checkboxes label {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: normal;
        }

        .share-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .share-btn {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            color: white;
            padding: 12px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .share-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .share-btn.instagram { border-color: #e1306c; }
        .share-btn.kakao { border-color: #fee500; }
        .share-btn.twitter { border-color: #1da1f2; }
        .share-btn.download { border-color: #4CAF50; }

        /* ëª¨ë°”ì¼ ìµœì í™” */
        @media (max-width: 768px) {
            .modal-content {
                max-width: 95vw;
                max-height: 95vh;
            }

            .emotion-tool,
            .creative-tool,
            .leadership-tool,
            .share-tool {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .modal-body {
                padding: 20px;
            }

            .tip-cards {
                grid-template-columns: 1fr;
            }

            .canvas-controls {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="main-title">ğŸŒŸ ê¶Œë¯¼ì°¬ì˜ ë³„ìë¦¬ ìš´ëª… ğŸŒŸ</h1>
            <div class="birth-info">
                <div class="birth-detail">ğŸ“… <strong>ìƒë…„ì›”ì¼:</strong> 2011ë…„ 10ì›” 12ì¼ (ìŒë ¥)</div>
                <div class="birth-detail">â° <strong>ì¶œìƒì‹œê°„:</strong> ì˜¤ì „ 9ì‹œ 30ë¶„</div>
                <div class="birth-detail">ğŸ“ <strong>ì¶œìƒì§€:</strong> ì„œìš¸</div>
                <div class="birth-detail">ğŸ‚ <strong>í˜„ì¬ ë‚˜ì´:</strong> 15ì„¸ (2025ë…„ ê¸°ì¤€)</div>
                <div class="birth-detail">ğŸ”¥ <strong>í•µì‹¬ ë³„ì„±:</strong> ì¹ ì‚´, íƒë‘, íŒŒêµ°, ì—¼ì •</div>
            </div>
        </header>

        <section class="chart-section fade-in">
            <h2 class="chart-title">ğŸ“Š ê¶Œë¯¼ì°¬ì˜ ìë¯¸ë‘ìˆ˜ ëª…ë°˜</h2>
            <div class="palace-grid">
                <div class="palace-card">
                    <div class="palace-name">ì‹œì£¼ (ëª…ê¶)</div>
                    <div class="star-name">ìë¯¸</div>
                    <div>ê°‘ì¬</div>
                </div>
                <div class="palace-card">
                    <div class="palace-name">ì¼ì£¼ (í˜•ì œê¶)</div>
                    <div class="star-name">ì—¼ì •</div>
                    <div>ì¼ê°„(ë‚˜)</div>
                </div>
                <div class="palace-card active">
                    <div class="palace-name">ì›”ì£¼ (ë¶€ë¶€ê¶)</div>
                    <div class="star-name special-star">ë¬´ìˆ </div>
                    <div>í¸ì¸</div>
                </div>
                <div class="palace-card">
                    <div class="palace-name">ë…„ì£¼ (ìë…€ê¶)</div>
                    <div class="star-name">ì‹ ë¬˜</div>
                    <div>ê°‘ì¬</div>
                </div>
                <div class="palace-card active">
                    <div class="palace-name">í¸ê´€</div>
                    <div class="star-name special-star">íŒŒêµ°</div>
                    <div>ìƒê´€</div>
                </div>
                <div class="palace-card">
                    <div class="palace-name">ìƒê´€</div>
                    <div class="star-name">ì</div>
                    <div>í¸ì¸</div>
                </div>
                <div class="palace-card active">
                    <div class="palace-name">í¸ì¸</div>
                    <div class="star-name special-star">ë¬´ìˆ </div>
                    <div>ì •ì¬</div>
                </div>
                <div class="palace-card">
                    <div class="palace-name">ì •ì¬</div>
                    <div class="star-name">ë¯¸</div>
                    <div>ìˆ </div>
                </div>
            </div>
            <p style="text-align: center; margin-top: 20px; opacity: 0.8;">
                ğŸ’« <strong>ì˜¤í–‰:</strong> ëª©1, í™”1, í† 2, ê¸ˆ3, ìˆ˜1 &nbsp;&nbsp; 
                ğŸ¯ <strong>ê³µë§:</strong> ë…„ì£¼ ì˜¤ë¯¸, ì²œì„ê·€ì¸: ì˜¤ë¯¸ ì›”ë ¹: í
            </p>
        </section>

        <section class="major-stars fade-in">
            <div class="star-card qisha-card">
                <div class="star-header">
                    <div class="star-emoji">âš”ï¸</div>
                    <div class="star-title">ì¹ ì‚´ì„± - ì „ì‚¬ì˜ ë³„</div>
                </div>
                <p><strong>ìœ„ì¹˜:</strong> í¸ê´€ ìë¦¬ì— ê°•í•˜ê²Œ ë°°ì¹˜</p>
                <p><strong>ì˜ë¯¸:</strong> ê¶Œë¯¼ì°¬ì€ íƒ€ê³ ë‚œ ì „ì‚¬ì˜ ê¸°ì§ˆì„ ê°€ì§€ê³  ìˆì–´. ì •ì˜ê°ì´ ê°•í•˜ê³  ë¶ˆì˜ë¥¼ ì°¸ì§€ ëª»í•˜ëŠ” ì„±ê²©ì´ì•¼. ë¦¬ë”ì‹­ì´ ë›°ì–´ë‚˜ì§€ë§Œ ë•Œë¡œëŠ” ì¶©ë™ì ì¼ ìˆ˜ ìˆì–´.</p>
                <p><strong>ë°œí˜„ì‹œê¸°:</strong> í•™êµì—ì„œ ë°˜ì¥ ì—­í• ì„ í•˜ê±°ë‚˜ ì¹œêµ¬ë“¤ì„ ë³´í˜¸í•  ë•Œ ê°•í•˜ê²Œ ë‚˜íƒ€ë‚¨</p>
            </div>

            <div class="star-card tanlang-card">
                <div class="star-header">
                    <div class="star-emoji">ğŸ¨</div>
                    <div class="star-title">íƒë‘ì„± - ì˜ˆìˆ ê°€ì˜ ë³„</div>
                </div>
                <p><strong>ìœ„ì¹˜:</strong> ìˆ¨ì–´ìˆì§€ë§Œ ê°•ë ¥í•œ ì˜í–¥ë ¥ ë³´ìœ </p>
                <p><strong>ì˜ë¯¸:</strong> ë‹¤ì¬ë‹¤ëŠ¥í•˜ê³  ì˜ˆìˆ ì  ê°ê°ì´ ë›°ì–´ë‚˜. ìƒˆë¡œìš´ ê²ƒì— ëŒ€í•œ í˜¸ê¸°ì‹¬ì´ ë§ê³  í•™ìŠµ ëŠ¥ë ¥ì´ ë¹¨ë¼. ë‹¤ë§Œ ì§‘ì¤‘ë ¥ ì§€ì†ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆì–´.</p>
                <p><strong>ë°œí˜„ì‹œê¸°:</strong> ì°½ì‘ í™œë™ì´ë‚˜ ìƒˆë¡œìš´ ì·¨ë¯¸ë¥¼ ì‹œì‘í•  ë•Œ ë‘ê°ì„ ë‚˜íƒ€ëƒ„</p>
            </div>

            <div class="star-card pojun-card">
                <div class="star-header">
                    <div class="star-emoji">ğŸ’¥</div>
                    <div class="star-title">íŒŒêµ°ì„± - ë³€í™”ì˜ ë³„</div>
                </div>
                <p><strong>ìœ„ì¹˜:</strong> í¸ê´€ ìë¦¬ì—ì„œ ì¹ ì‚´ê³¼ í˜‘ë ¥</p>
                <p><strong>ì˜ë¯¸:</strong> í˜ì‹ ì ì´ê³  ë³€í™”ë¥¼ ì¶”êµ¬í•˜ëŠ” ì„±ê²©. ê¸°ì¡´ ì§ˆì„œì— ë„ì „í•˜ê³  ìƒˆë¡œìš´ ë°©ì‹ì„ ë§Œë“¤ì–´ë‚´ëŠ” ëŠ¥ë ¥ì´ ìˆì–´. íŒŒê´´ì™€ ì°½ì¡°ë¥¼ ë™ì‹œì— í•˜ëŠ” í˜ì„ ê°€ì¡Œì–´.</p>
                <p><strong>ë°œí˜„ì‹œê¸°:</strong> 15-17ì„¸ ì‚¬ì´ ê°€ì¥ ê°•í•˜ê²Œ ë‚˜íƒ€ë‚  ì˜ˆì •</p>
            </div>

            <div class="star-card lianzhen-card">
                <div class="star-header">
                    <div class="star-emoji">âš–ï¸</div>
                    <div class="star-title">ì—¼ì •ì„± - ì‹¬íŒê´€ì˜ ë³„</div>
                </div>
                <p><strong>ìœ„ì¹˜:</strong> ì¼ì£¼(í˜•ì œê¶)ì— ìœ„ì¹˜</p>
                <p><strong>ì˜ë¯¸:</strong> ì„ ì•…ì„ ë¶„ëª…íˆ êµ¬ë¶„í•˜ê³  ë„ë•ì  ê¸°ì¤€ì´ í™•ê³ í•´. ê³µì •í•¨ì„ ì¤‘ì‹œí•˜ê³  ë¶€ì •ì§í•œ ê²ƒì„ í˜ì˜¤í•´. ë•Œë¡œëŠ” ìœµí†µì„±ì´ ë¶€ì¡±í•  ìˆ˜ ìˆì–´.</p>
                <p><strong>ë°œí˜„ì‹œê¸°:</strong> ì¹œêµ¬ë“¤ ì‚¬ì´ì—ì„œ ì¤‘ì¬ì ì—­í• ì„ í•  ë•Œ ë‚˜íƒ€ë‚¨</p>
            </div>
        </section>

        <section class="personality-analysis fade-in">
            <h2 class="section-title">ğŸ§  ê¶Œë¯¼ì°¬ì˜ ì„±ê²© ë¶„ì„</h2>
            <div class="trait-grid">
                <div class="trait-card">
                    <div class="trait-title">ğŸ’ª í•µì‹¬ ê°•ì </div>
                    <ul class="advice-list">
                        <li>íƒ€ê³ ë‚œ ë¦¬ë”ì‹­ê³¼ ì¹´ë¦¬ìŠ¤ë§ˆ</li>
                        <li>ê°•í•œ ì •ì˜ê°ê³¼ ë³´í˜¸ ë³¸ëŠ¥</li>
                        <li>ì˜ˆìˆ ì  ê°ê°ê³¼ ì°½ì˜ë ¥</li>
                        <li>ìƒˆë¡œìš´ ê²ƒì„ ë¹ ë¥´ê²Œ í•™ìŠµí•˜ëŠ” ëŠ¥ë ¥</li>
                        <li>ëª…í™•í•œ ì„ ì•… íŒë‹¨ë ¥</li>
                    </ul>
                </div>
                
                <div class="trait-card">
                    <div class="trait-title">âš ï¸ ì£¼ì˜í•  ì </div>
                    <ul class="advice-list">
                        <li>ê°ì • ì¡°ì ˆì˜ ì–´ë ¤ì›€ (ë¶„ë…¸ í­ë°œ)</li>
                        <li>ì¶©ë™ì ì¸ ì˜ì‚¬ê²°ì •</li>
                        <li>ì§€ì†ë ¥ê³¼ ì¸ë‚´ì‹¬ ë¶€ì¡±</li>
                        <li>ì™„ë²½ì£¼ì˜ì  ì„±í–¥</li>
                        <li>íƒ€í˜‘í•˜ê¸° ì–´ë ¤ìš´ ì„±ê²©</li>
                    </ul>
                </div>

                <div class="trait-card">
                    <div class="trait-title">ğŸ¯ ì¬ëŠ¥ ì˜ì—­</div>
                    <ul class="advice-list">
                        <li>ë¦¬ë”ì‹­ (ë°˜ì¥, ë™ì•„ë¦¬ì¥)</li>
                        <li>ì˜ˆìˆ  ì°½ì‘ (ë¯¸ìˆ , ìŒì•…, ê¸€ì“°ê¸°)</li>
                        <li>ìŠ¤í¬ì¸  (íŒ€ ìŠ¤í¬ì¸  íŠ¹íˆ ê°•í•¨)</li>
                        <li>ì‚¬íšŒ ì •ì˜ ê´€ë ¨ í™œë™</li>
                        <li>ìƒˆë¡œìš´ ê¸°ìˆ  ìŠµë“</li>
                    </ul>
                </div>

                <div class="trait-card">
                    <div class="trait-title">ğŸ¤ ì¸ê°„ê´€ê³„</div>
                    <ul class="advice-list">
                        <li>ì¹œêµ¬ë“¤ì˜ ë“ ë“ í•œ ë³´í˜¸ì ì—­í• </li>
                        <li>ë¶€ë‹¹í•¨ì„ ì°¸ì§€ ëª»í•´ ê°ˆë“± ë°œìƒ ê°€ëŠ¥</li>
                        <li>ì§„ì‹¤ëœ ê´€ê³„ë¥¼ ì¶”êµ¬</li>
                        <li>ì†Œìˆ˜ì˜ ê¹Šì€ ìš°ì • ì„ í˜¸</li>
                        <li>ê¶Œìœ„ì— ë„ì „í•˜ëŠ” ì„±í–¥</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="advice-section fade-in">
            <h2 class="section-title">ğŸš€ ê¶Œë¯¼ì°¬ì„ ìœ„í•œ ë§ì¶¤ ì¡°ì–¸</h2>
            <div class="advice-grid">
                <div class="advice-card strength-card">
                    <h3 style="color: #4CAF50; margin-bottom: 15px;">ğŸ’ ê°•ì  í™œìš©ë²•</h3>
                    <ul class="advice-list">
                        <li>í•™ê¸‰ ì„ì›ì´ë‚˜ ë™ì•„ë¦¬ ë¦¬ë” í™œë™ ì ê·¹ ì°¸ì—¬</li>
                        <li>ì°½ì‘ ë™ì•„ë¦¬ë‚˜ ì˜ˆìˆ  í™œë™ìœ¼ë¡œ ì¬ëŠ¥ ê°œë°œ</li>
                        <li>ë´‰ì‚¬í™œë™ìœ¼ë¡œ ì •ì˜ê° ë°œíœ˜</li>
                        <li>ìƒˆë¡œìš´ ë¶„ì•¼ ë„ì „ (ì½”ë”©, ë¡œë´‡, ê³¼í•™ì‹¤í—˜)</li>
                        <li>ìŠ¤í¬ì¸ íŒ€ ì£¼ì¥ì´ë‚˜ í•µì‹¬ ë©¤ë²„ ì—­í• </li>
                    </ul>
                </div>

                <div class="advice-card challenge-card">
                    <h3 style="color: #FF9800; margin-bottom: 15px;">ğŸ¯ ê°œì„  ë°©ë²•</h3>
                    <ul class="advice-list">
                        <li>í™”ê°€ ë‚  ë•Œ 10ì´ˆ ì‹¬í˜¸í¡ í•˜ê¸°</li>
                        <li>ë‹¤ë¥¸ ì‚¬ëŒ ì˜ê²¬ë„ ëê¹Œì§€ ë“¤ì–´ë³´ê¸°</li>
                        <li>ì™„ë²½í•˜ì§€ ì•Šì•„ë„ ê´œì°®ë‹¤ëŠ” ë§ˆìŒê°€ì§</li>
                        <li>ì¥ê¸° ëª©í‘œ ì„¤ì •í•˜ê³  ë‹¨ê³„ë³„ ì‹¤í–‰</li>
                        <li>ëª…ìƒì´ë‚˜ ìš”ê°€ë¡œ ë§ˆìŒ ë‹¤ìŠ¤ë¦¬ê¸°</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="fortune-prediction fade-in">
            <h2 class="section-title">ğŸ”® ê¶Œë¯¼ì°¬ì˜ ìš´ì„¸ ì˜ˆì¸¡</h2>
            <div class="years-grid">
                <div class="year-card">
                    <div class="year-title">2025ë…„ (15ì„¸)</div>
                    <p>ğŸŒŸ ë³€í™”ì˜ ì‹œì‘<br>ìƒˆë¡œìš´ ì¬ëŠ¥ ë°œê²¬ê³¼<br>ë¦¬ë”ì‹­ ê°œë°œì˜ í•´</p>
                </div>
                <div class="year-card">
                    <div class="year-title">2026ë…„ (16ì„¸)</div>
                    <p>âš¡ íŒŒêµ°ì„± í™œì„±í™”<br>í° ë³€í™”ì™€ ë„ì „<br>í˜ì‹ ì  ì•„ì´ë””ì–´ ë“±ì¥</p>
                </div>
                <div class="year-card">
                    <div class="year-title">2027ë…„ (17ì„¸)</div>
                    <p>ğŸ¨ íƒë‘ì„± ê°œí™”<br>ì˜ˆìˆ ì  ì¬ëŠ¥ í­ë°œ<br>ë‹¤ì–‘í•œ ê²½í—˜ ì¶•ì </p>
                </div>
                <div class="year-card">
                    <div class="year-title">2028ë…„ (18ì„¸)</div>
                    <p>ğŸ‘‘ ìë¯¸ì„± ì™„ì„±<br>ì§„ì •í•œ ë¦¬ë”ë¡œ ì„±ì¥<br>ì¸ìƒ ë°©í–¥ í™•ì •</p>
                </div>
            </div>
        </section>

        <section class="interactive-section fade-in">
            <h2 class="section-title">ğŸ® ê¶Œë¯¼ì°¬ì„ ìœ„í•œ ì•¡ì…˜ í”Œëœ</h2>
            <p style="margin-bottom: 25px;">
                ì´ì œ ë¶„ì„ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‹¤ì œ í–‰ë™ì— ì˜®ê²¨ë³´ì!<br>
                ê¶Œë¯¼ì°¬ì˜ ë³„ë“¤ì´ ìµœê³ ì˜ ì‹œë„ˆì§€ë¥¼ ë‚¼ ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤„ íŠ¹ë³„í•œ ë„êµ¬ë“¤ì´ì•¼.
            </p>
            <button class="action-btn" onclick="openPersonalityTool()">
                ğŸ› ï¸ ì„±ê²© ê°œì„  ë„êµ¬ ì‚¬ìš©í•˜ê¸°
            </button>
            <button class="action-btn" onclick="openCreativeSpace()">
                ğŸ¨ ì°½ì‘ ê³µê°„ ë§Œë“¤ê¸°
            </button>
            <button class="action-btn" onclick="openLeadershipTraining()">
                ğŸ‘‘ ë¦¬ë”ì‹­ í›ˆë ¨í•˜ê¸°
            </button>
            <button class="action-btn" onclick="shareFortune()">
                ğŸ“± ì¹œêµ¬ë“¤ê³¼ ìš´ì„¸ ê³µìœ í•˜ê¸°
            </button>
        </section>
    </div>

    <script>
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
        window.addEventListener('load', () => {
            // ì‚¬ìš©ì ë°ì´í„° ë¡œë“œ
            loadUserProgress();
            
            // ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
            const fadeElements = document.querySelectorAll('.fade-in');
            fadeElements.forEach((element, index) => {
                setTimeout(() => {
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                }, index * 200);
            });

            // ì¼ì¼ ì²´í¬ì¸
            checkDailyLogin();
            
            // ì„±ì·¨ í™•ì¸
            checkAchievements();

            // í™˜ì˜ ë©”ì‹œì§€ (ì²« ë°©ë¬¸ììš©)
            const isFirstVisit = !localStorage.getItem('minchanVisited');
            if (isFirstVisit) {
                localStorage.setItem('minchanVisited', 'true');
                
                setTimeout(() => {
                    alert(`ğŸŒŸ ì•ˆë…•, ê¶Œë¯¼ì°¬! ë„¤ ë³„ìë¦¬ë¥¼ ë¶„ì„í•´ë´¤ì–´!

ğŸ’« ë„ˆëŠ” ì •ë§ íŠ¹ë³„í•œ ì¡°í•©ì„ ê°€ì§€ê³  ìˆë„¤:

âš”ï¸ ì¹ ì‚´ì„±: ìš©ê°í•œ ì „ì‚¬ì˜ ê¸°ì§ˆ
ğŸ¨ íƒë‘ì„±: ì˜ˆìˆ ê°€ì˜ ì˜í˜¼  
ğŸ’¥ íŒŒêµ°ì„±: ë³€í™”ë¥¼ ë§Œë“œëŠ” í˜ëª…ê°€
âš–ï¸ ì—¼ì •ì„±: ê³µì •í•œ ì‹¬íŒê´€

ì´ ë„¤ ë³„ë“¤ì´ í•©ì³ì ¸ì„œ ì—„ì²­ë‚˜ê²Œ ê°•ë ¥í•œ ì—ë„ˆì§€ë¥¼ ë§Œë“¤ê³  ìˆì–´!
ê°€ë” í™”ê°€ ë‚˜ê±°ë‚˜ ë‹µë‹µí•œ ê±´ ì´ ë³„ë“¤ì´ ê¹¨ì–´ë‚˜ê³  ìˆëŠ” ì‹ í˜¸ì•¼.

ì•„ë˜ ë²„íŠ¼ë“¤ì„ ëˆŒëŸ¬ì„œ ì‹¤ì œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë„êµ¬ë“¤ì„ ì²´í—˜í•´ë´! ğŸš€

ğŸ’¡ íŒ: Ctrl+1,2,3,4 ë‹¨ì¶•í‚¤ë¡œë„ ë¹ ë¥´ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆì–´!`);
                }, 2000);
            } else {
                // ê¸°ì¡´ ì‚¬ìš©ììš© ê°„ë‹¨í•œ ì¸ì‚¬
                setTimeout(() => {
                    const emotionCount = userData.emotions.length;
                    const artworkCount = userData.artworks.length;
                    
                    alert(`ğŸ‘‹ ë‹¤ì‹œ ë§Œë‚˜ì„œ ë°˜ê°€ì›Œ, ê¶Œë¯¼ì°¬!

ğŸ“Š ì§€ê¸ˆê¹Œì§€ì˜ ì„±ì¥:
â€¢ ê°ì • ê¸°ë¡: ${emotionCount}íšŒ
â€¢ ì°½ì‘ ì‘í’ˆ: ${artworkCount}ê°œ
â€¢ ì„±ì·¨: ${userData.achievements.length}ê°œ

ì˜¤ëŠ˜ë„ ìƒˆë¡œìš´ ì„±ì¥ì„ ë§Œë“¤ì–´ë³´ì! âœ¨`);
                }, 1500);
            }
        });

        // ì „ì—­ ìƒíƒœ ê´€ë¦¬
        let currentTool = null;
        let userData = JSON.parse(localStorage.getItem('minchanData') || '{"emotions": [], "artworks": [], "leadership": {"decisiveness": 65, "charisma": 78, "innovation": 45, "fairness": 60}, "achievements": []}');

        // ë„êµ¬ ëª¨ë‹¬ ì‹œìŠ¤í…œ
        function createModal(title, content) {
            const modal = document.createElement('div');
            modal.className = 'tool-modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>${title}</h2>
                        <button class="close-btn" onclick="closeModal()">&times;</button>
                    </div>
                    <div class="modal-body">
                        ${content}
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            requestAnimationFrame(() => modal.classList.add('show'));
        }

        function closeModal() {
            const modal = document.querySelector('.tool-modal');
            if (modal) {
                modal.classList.remove('show');
                setTimeout(() => modal.remove(), 300);
            }
        }

        // 1. ê°ì • ë°¸ëŸ°ìŠ¤ ë§ˆìŠ¤í„°
        function openPersonalityTool() {
            const content = `
                <div class="emotion-tool">
                    <div class="emotion-wheel-container">
                        <canvas id="emotionWheel" width="300" height="300"></canvas>
                        <div class="emotion-center">
                            <div id="currentMood">ğŸ˜</div>
                            <div id="moodText">ë³´í†µ</div>
                        </div>
                    </div>
                    
                    <div class="emotion-controls">
                        <h3>ğŸŒŸ ì§€ê¸ˆ ê¸°ë¶„ì€?</h3>
                        <div class="emotion-buttons">
                            <button onclick="setMood('ğŸ˜¤', 'í™”ë‚¨', '#ff6b6b', 90)">ğŸ˜¤ í™”ë‚¨</button>
                            <button onclick="setMood('ğŸ˜Š', 'í–‰ë³µ', '#4ecdc4', 20)">ğŸ˜Š í–‰ë³µ</button>
                            <button onclick="setMood('ğŸ˜°', 'ë¶ˆì•ˆ', '#feca57', 70)">ğŸ˜° ë¶ˆì•ˆ</button>
                            <button onclick="setMood('ğŸ¤”', 'ê³ ë¯¼', '#9b59b6', 50)">ğŸ¤” ê³ ë¯¼</button>
                            <button onclick="setMood('ğŸ˜´', 'í”¼ê³¤', '#95a5a6', 30)">ğŸ˜´ í”¼ê³¤</button>
                        </div>
                    </div>

                    <div class="breathing-section">
                        <h3>ğŸŒ¬ï¸ í˜¸í¡ ìš´ë™</h3>
                        <div class="breathing-controls">
                            <button onclick="startBreathingExercise('calm')">ì°¨ë¶„í•œ í˜¸í¡ (4-7-8)</button>
                            <button onclick="startBreathingExercise('balance')">ê· í˜• í˜¸í¡ (4-4-4)</button>
                            <button onclick="startBreathingExercise('energy')">ì—ë„ˆì§€ í˜¸í¡ (6-2-6)</button>
                        </div>
                        <div class="breathing-circle" id="breathingCircle">
                            <div class="breathing-text" id="breathingText">í˜¸í¡ ìš´ë™ì„ ì„ íƒí•˜ì„¸ìš”</div>
                        </div>
                    </div>

                    <div class="emotion-history">
                        <h3>ğŸ“Š ê°ì • íˆìŠ¤í† ë¦¬</h3>
                        <canvas id="emotionChart" width="400" height="200"></canvas>
                    </div>
                </div>
            `;
            
            createModal('ğŸ§  ê°ì • ë°¸ëŸ°ìŠ¤ ë§ˆìŠ¤í„°', content);
            setTimeout(() => {
                initEmotionWheel();
                drawEmotionHistory();
            }, 100);
        }

        // 2. í¬ë¦¬ì—ì´í‹°ë¸Œ ìœ ë‹ˆë²„ìŠ¤
        function openCreativeSpace() {
            const content = `
                <div class="creative-tool">
                    <div class="canvas-section">
                        <h3>ğŸ¨ ê°ì • ìº”ë²„ìŠ¤</h3>
                        <div class="canvas-controls">
                            <button onclick="setBrushMode('freedom')">ğŸŒˆ ììœ  í‘œí˜„</button>
                            <button onclick="setBrushMode('anger')">âš¡ ë¶„ë…¸ ì—ë„ˆì§€</button>
                            <button onclick="setBrushMode('calm')">ğŸŒŠ í‰ì˜¨í•¨</button>
                            <button onclick="setBrushMode('joy')">â˜€ï¸ ê¸°ì¨</button>
                            <button onclick="clearCanvas()">ğŸ—‘ï¸ ì§€ìš°ê¸°</button>
                            <button onclick="saveArtwork()">ğŸ’¾ ì €ì¥</button>
                        </div>
                        <canvas id="artCanvas" width="500" height="400"></canvas>
                    </div>

                    <div class="writing-section">
                        <h3>ğŸ“ ê°ì • ì¼ê¸°</h3>
                        <textarea id="emotionDiary" placeholder="ì§€ê¸ˆ ë§ˆìŒì— ë– ì˜¤ë¥´ëŠ” ê²ƒë“¤ì„ ììœ ë¡­ê²Œ ì¨ë´...

ì˜ˆë¥¼ ë“¤ì–´:
- ì˜¤ëŠ˜ í•™êµì—ì„œ ìˆì—ˆë˜ ì¼
- ì¹œêµ¬ë“¤ê³¼ì˜ ëŒ€í™”
- ê¸°ë¶„ ì¢‹ì•˜ë˜/ë‚˜ë¹´ë˜ ìˆœê°„
- ì•ìœ¼ë¡œì˜ ê³„íšì´ë‚˜ ê¿ˆ

ë­ë“  ì¢‹ì•„, ë„¤ ë§ˆìŒ ì† ì´ì•¼ê¸°ë¥¼ ë“¤ë ¤ì¤˜! âœ¨"></textarea>
                        <button onclick="saveDiary()">ğŸ’Œ ì¼ê¸° ì €ì¥</button>
                    </div>

                    <div class="gallery-section">
                        <h3>ğŸ–¼ï¸ ë‚˜ì˜ ê°¤ëŸ¬ë¦¬</h3>
                        <div id="artworkGallery" class="gallery-grid"></div>
                    </div>
                </div>
            `;
            
            createModal('ğŸ¨ í¬ë¦¬ì—ì´í‹°ë¸Œ ìœ ë‹ˆë²„ìŠ¤', content);
            setTimeout(() => {
                initArtCanvas();
                loadArtworkGallery();
            }, 100);
        }

        // 3. ë¦¬ë”ì‹­ ì‹œë®¬ë ˆì´í„°
        function openLeadershipTraining() {
            const content = `
                <div class="leadership-tool">
                    <div class="leadership-stats">
                        <h3>ğŸ‘‘ ë¦¬ë”ì‹­ ëŠ¥ë ¥ì¹˜</h3>
                        <canvas id="leadershipChart" width="300" height="300"></canvas>
                    </div>

                    <div class="scenario-section">
                        <h3>ğŸ­ ë¦¬ë”ì‹­ ì‹œë‚˜ë¦¬ì˜¤</h3>
                        <div id="scenarioCard" class="scenario-card">
                            <h4 id="scenarioTitle">ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì„ íƒí•˜ì„¸ìš”</h4>
                            <p id="scenarioText"></p>
                            <div id="scenarioChoices" class="choice-buttons"></div>
                        </div>
                        <button onclick="loadRandomScenario()">ğŸ² ìƒˆë¡œìš´ ìƒí™©</button>
                    </div>

                    <div class="leadership-tips">
                        <h3>ğŸ’¡ ê¶Œë¯¼ì°¬ì„ ìœ„í•œ ë¦¬ë”ì‹­ íŒ</h3>
                        <div class="tip-cards">
                            <div class="tip-card">
                                <strong>âš”ï¸ ì¹ ì‚´ì„± í™œìš©ë²•:</strong><br>
                                ì •ì˜ê°ì„ ë°”íƒ•ìœ¼ë¡œ ê³µì •í•œ ê²°ì •ì„ ë‚´ë¦¬ë˜, ë‹¤ë¥¸ ì‚¬ëŒì˜ ê°ì •ë„ ê³ ë ¤í•´ë³´ì
                            </div>
                            <div class="tip-card">
                                <strong>ğŸ¨ íƒë‘ì„± í™œìš©ë²•:</strong><br>
                                ì°½ì˜ì ì¸ ì•„ì´ë””ì–´ë¡œ ë¬¸ì œ í•´ê²°ì˜ ìƒˆë¡œìš´ ë°©ë²•ì„ ì œì‹œí•´ë³´ì
                            </div>
                            <div class="tip-card">
                                <strong>ğŸ’¥ íŒŒêµ°ì„± í™œìš©ë²•:</strong><br>
                                ë³€í™”ê°€ í•„ìš”í•œ ìƒí™©ì—ì„œ í˜ì‹ ì ì¸ ì ‘ê·¼ì„ ì‹œë„í•´ë³´ì
                            </div>
                            <div class="tip-card">
                                <strong>âš–ï¸ ì—¼ì •ì„± í™œìš©ë²•:</strong><br>
                                ê°ê´€ì ì¸ ê¸°ì¤€ìœ¼ë¡œ ìƒí™©ì„ íŒë‹¨í•˜ë˜, ìœµí†µì„±ë„ ë°œíœ˜í•´ë³´ì
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            createModal('ğŸ‘‘ ë¦¬ë”ì‹­ ì‹œë®¬ë ˆì´í„°', content);
            setTimeout(() => {
                initLeadershipChart();
                loadRandomScenario();
            }, 100);
        }

        // 4. ì„±ì¥ ê³µìœ  í”Œë«í¼
        function shareFortune() {
            const content = `
                <div class="share-tool">
                    <div class="share-card-preview">
                        <h3>ğŸ“± ê³µìœ  ì¹´ë“œ ë¯¸ë¦¬ë³´ê¸°</h3>
                        <canvas id="shareCard" width="400" height="600"></canvas>
                    </div>

                    <div class="share-options">
                        <h3>ğŸ¨ ì¹´ë“œ ì»¤ìŠ¤í„°ë§ˆì´ì§•</h3>
                        <div class="customization-panel">
                            <label>ë°°ê²½ í…Œë§ˆ:</label>
                            <select id="cardTheme" onchange="updateShareCard()">
                                <option value="cosmic">ğŸŒŒ ìš°ì£¼</option>
                                <option value="nature">ğŸŒ¿ ìì—°</option>
                                <option value="neon">âš¡ ë„¤ì˜¨</option>
                                <option value="classic">ğŸ“œ í´ë˜ì‹</option>
                            </select>

                            <label>í¬í•¨í•  ì •ë³´:</label>
                            <div class="share-checkboxes">
                                <label><input type="checkbox" id="includeStats" checked> ì„±ê²© ë¶„ì„</label>
                                <label><input type="checkbox" id="includeGrowth" checked> ì„±ì¥ í˜„í™©</label>
                                <label><input type="checkbox" id="includeMessage"> ê°œì¸ ë©”ì‹œì§€</label>
                            </div>

                            <div id="personalMessage" style="display:none;">
                                <textarea placeholder="ì¹œêµ¬ë“¤ì—ê²Œ ì „í•˜ê³  ì‹¶ì€ ë©”ì‹œì§€..."></textarea>
                            </div>
                        </div>
                        <button onclick="generateShareCard()">ğŸ¨ ì¹´ë“œ ìƒì„±</button>
                    </div>

                    <div class="share-buttons">
                        <h3>ğŸ“¤ ê³µìœ í•˜ê¸°</h3>
                        <button onclick="shareToSocial('instagram')" class="share-btn instagram">ğŸ“¸ Instagram</button>
                        <button onclick="shareToSocial('kakao')" class="share-btn kakao">ğŸ’¬ KakaoTalk</button>
                        <button onclick="shareToSocial('twitter')" class="share-btn twitter">ğŸ¦ Twitter</button>
                        <button onclick="downloadCard()" class="share-btn download">ğŸ’¾ ì´ë¯¸ì§€ ì €ì¥</button>
                    </div>
                </div>
            `;
            
            createModal('ğŸ“± ì„±ì¥ ê³µìœ  í”Œë«í¼', content);
            setTimeout(() => {
                generateShareCard();
                setupShareOptions();
            }, 100);
        }

        // ê°ì • íœ  ì´ˆê¸°í™”
        function initEmotionWheel() {
            const canvas = document.getElementById('emotionWheel');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            drawEmotionWheel(ctx, canvas.width, canvas.height);
        }

        function drawEmotionWheel(ctx, width, height) {
            const centerX = width / 2;
            const centerY = height / 2;
            const radius = Math.min(width, height) / 2 - 20;
            
            // 4ê°œ ë³„ì„± ì˜ì—­
            const stars = [
                { name: 'ì¹ ì‚´ì„±', color: '#e74c3c', angle: 0 },
                { name: 'íƒë‘ì„±', color: '#f39c12', angle: Math.PI / 2 },
                { name: 'íŒŒêµ°ì„±', color: '#9b59b6', angle: Math.PI },
                { name: 'ì—¼ì •ì„±', color: '#3498db', angle: 3 * Math.PI / 2 }
            ];
            
            stars.forEach((star, index) => {
                const startAngle = star.angle - Math.PI / 4;
                const endAngle = star.angle + Math.PI / 4;
                
                ctx.beginPath();
                ctx.arc(centerX, centerY, radius, startAngle, endAngle);
                ctx.lineTo(centerX, centerY);
                ctx.fillStyle = star.color + '40';
                ctx.fill();
                ctx.strokeStyle = star.color;
                ctx.lineWidth = 3;
                ctx.stroke();
                
                // ë³„ì„± ì´ë¦„
                const textX = centerX + Math.cos(star.angle) * (radius * 0.7);
                const textY = centerY + Math.sin(star.angle) * (radius * 0.7);
                ctx.fillStyle = 'white';
                ctx.font = '12px sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText(star.name, textX, textY);
            });
        }

        function setMood(emoji, text, color, intensity) {
            document.getElementById('currentMood').textContent = emoji;
            document.getElementById('moodText').textContent = text;
            
            // ê°ì • ë°ì´í„° ì €ì¥
            const emotionData = {
                emoji, text, color, intensity,
                timestamp: new Date().toISOString(),
                date: new Date().toLocaleDateString()
            };
            
            userData.emotions.push(emotionData);
            localStorage.setItem('minchanData', JSON.stringify(userData));
            
            // ê°ì • íˆìŠ¤í† ë¦¬ ì—…ë°ì´íŠ¸
            drawEmotionHistory();
            
            // í”¼ë“œë°± ë©”ì‹œì§€
            showFeedback(text, intensity);
        }

        function showFeedback(emotion, intensity) {
            let advice = '';
            if (intensity > 70) {
                advice = 'ê°•í•œ ê°ì •ì´ ëŠê»´ì§€ë„¤! í˜¸í¡ ìš´ë™ìœ¼ë¡œ ë§ˆìŒì„ ì§„ì •ì‹œì¼œë³´ì ğŸŒ¬ï¸';
            } else if (intensity < 30) {
                advice = 'í‰ì˜¨í•œ ìƒíƒœì•¼! ì´ ê¸°ë¶„ì„ ì˜¤ë˜ ìœ ì§€í•´ë³´ì âœ¨';
            } else {
                advice = 'ì ë‹¹í•œ ê°ì • ìƒíƒœì•¼. ì§€ê¸ˆ ê¸°ë¶„ì„ ì°½ì‘ìœ¼ë¡œ í‘œí˜„í•´ë³¼ê¹Œ? ğŸ¨';
            }
            
            setTimeout(() => {
                alert(`${emotion} ìƒíƒœ ê¸°ë¡ ì™„ë£Œ!\n\nğŸ’¡ ì¡°ì–¸: ${advice}`);
            }, 500);
        }

        function startBreathingExercise(type) {
            const circle = document.getElementById('breathingCircle');
            const text = document.getElementById('breathingText');
            
            let pattern;
            switch(type) {
                case 'calm': pattern = [4, 7, 8]; break; // 4ì´ˆ ë“¤ìˆ¨, 7ì´ˆ ë©ˆì¶¤, 8ì´ˆ ë‚ ìˆ¨
                case 'balance': pattern = [4, 4, 4]; break;
                case 'energy': pattern = [6, 2, 6]; break;
            }
            
            circle.classList.add('active');
            let cycle = 0;
            const maxCycles = 5;
            
            function breatheCycle() {
                if (cycle >= maxCycles) {
                    circle.classList.remove('active');
                    text.textContent = 'í˜¸í¡ ìš´ë™ ì™„ë£Œ! ì˜í–ˆì–´ìš” ğŸ‘';
                    return;
                }
                
                // ë“¤ìˆ¨
                text.textContent = `ìˆ¨ì„ ë“¤ì´ë§ˆì…”... ${pattern[0]}ì´ˆ`;
                setTimeout(() => {
                    // ë©ˆì¶¤
                    text.textContent = `ìˆ¨ì„ ë©ˆì¶°... ${pattern[1]}ì´ˆ`;
                    setTimeout(() => {
                        // ë‚ ìˆ¨
                        text.textContent = `ì²œì²œíˆ ë‚´ë±‰ì–´... ${pattern[2]}ì´ˆ`;
                        setTimeout(() => {
                            cycle++;
                            breatheCycle();
                        }, pattern[2] * 1000);
                    }, pattern[1] * 1000);
                }, pattern[0] * 1000);
            }
            
            breatheCycle();
        }

        function drawEmotionHistory() {
            const canvas = document.getElementById('emotionChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const recentEmotions = userData.emotions.slice(-7); // ìµœê·¼ 7ê°œ
            if (recentEmotions.length === 0) return;
            
            const width = canvas.width - 40;
            const height = canvas.height - 40;
            const stepX = width / Math.max(recentEmotions.length - 1, 1);
            
            // ì„  ê·¸ë¦¬ê¸°
            ctx.beginPath();
            ctx.strokeStyle = '#48dbfb';
            ctx.lineWidth = 3;
            
            recentEmotions.forEach((emotion, index) => {
                const x = 20 + index * stepX;
                const y = 20 + height - (emotion.intensity / 100) * height;
                
                if (index === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
                
                // ì  ê·¸ë¦¬ê¸°
                ctx.fillStyle = emotion.color || '#48dbfb';
                ctx.beginPath();
                ctx.arc(x, y, 5, 0, 2 * Math.PI);
                ctx.fill();
            });
            
            ctx.stroke();
        }

        // ì•„íŠ¸ ìº”ë²„ìŠ¤ ì´ˆê¸°í™”
        function initArtCanvas() {
            const canvas = document.getElementById('artCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            let isDrawing = false;
            let currentBrush = 'freedom';
            
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('touchstart', handleTouch);
            canvas.addEventListener('touchmove', handleTouch);
            canvas.addEventListener('touchend', stopDrawing);
            
            function startDrawing(e) {
                isDrawing = true;
                draw(e);
            }
            
            function draw(e) {
                if (!isDrawing) return;
                
                const rect = canvas.getBoundingClientRect();
                const x = (e.clientX || e.touches[0].clientX) - rect.left;
                const y = (e.clientY || e.touches[0].clientY) - rect.top;
                
                ctx.lineCap = 'round';
                
                switch(currentBrush) {
                    case 'freedom':
                        ctx.strokeStyle = `hsl(${Math.random() * 360}, 70%, 50%)`;
                        ctx.lineWidth = 5;
                        break;
                    case 'anger':
                        ctx.strokeStyle = '#ff6b6b';
                        ctx.lineWidth = 8;
                        break;
                    case 'calm':
                        ctx.strokeStyle = '#48dbfb';
                        ctx.lineWidth = 3;
                        break;
                    case 'joy':
                        ctx.strokeStyle = '#feca57';
                        ctx.lineWidth = 6;
                        break;
                }
                
                ctx.lineTo(x, y);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(x, y);
            }
            
            function stopDrawing() {
                if (isDrawing) {
                    isDrawing = false;
                    ctx.beginPath();
                }
            }
            
            function handleTouch(e) {
                e.preventDefault();
                const touch = e.touches[0];
                const mouseEvent = new MouseEvent(e.type === 'touchstart' ? 'mousedown' : 
                                                e.type === 'touchmove' ? 'mousemove' : 'mouseup', {
                    clientX: touch.clientX,
                    clientY: touch.clientY
                });
                canvas.dispatchEvent(mouseEvent);
            }
            
            window.setBrushMode = function(mode) {
                currentBrush = mode;
                document.querySelectorAll('.canvas-controls button').forEach(btn => {
                    btn.classList.remove('active');
                });
                event.target.classList.add('active');
            };
            
            window.clearCanvas = function() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
            };
        }

        function saveArtwork() {
            const canvas = document.getElementById('artCanvas');
            const dataURL = canvas.toDataURL();
            
            const artwork = {
                id: Date.now(),
                dataURL: dataURL,
                timestamp: new Date().toISOString(),
                date: new Date().toLocaleDateString()
            };
            
            userData.artworks.push(artwork);
            localStorage.setItem('minchanData', JSON.stringify(userData));
            
            loadArtworkGallery();
            alert('ğŸ¨ ì‘í’ˆì´ ì €ì¥ë˜ì—ˆì–´! ê°¤ëŸ¬ë¦¬ì—ì„œ í™•ì¸í•´ë´!');
        }

        function loadArtworkGallery() {
            const gallery = document.getElementById('artworkGallery');
            if (!gallery) return;
            
            gallery.innerHTML = '';
            
            userData.artworks.slice(-6).forEach(artwork => {
                const img = document.createElement('img');
                img.src = artwork.dataURL;
                img.className = 'artwork-thumbnail';
                img.onclick = () => viewArtwork(artwork);
                gallery.appendChild(img);
            });
        }

        function viewArtwork(artwork) {
            const modal = document.createElement('div');
            modal.className = 'artwork-modal';
            modal.innerHTML = `
                <div style="text-align: center; padding: 20px;">
                    <img src="${artwork.dataURL}" style="max-width: 80vw; max-height: 60vh; border-radius: 10px;">
                    <p style="margin-top: 15px; color: white;">ì‘í’ˆ ë‚ ì§œ: ${artwork.date}</p>
                    <button onclick="this.parentElement.parentElement.remove()" style="margin-top: 10px; padding: 10px 20px; background: #ff6b6b; border: none; border-radius: 5px; color: white; cursor: pointer;">ë‹«ê¸°</button>
                </div>
            `;
            modal.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: flex; align-items: center; justify-content: center; z-index: 10001;';
            document.body.appendChild(modal);
        }

        function saveDiary() {
            const diary = document.getElementById('emotionDiary').value;
            if (!diary.trim()) {
                alert('ì¼ê¸°ë¥¼ ë¨¼ì € ì¨ë´! âœï¸');
                return;
            }
            
            const diaryEntry = {
                content: diary,
                timestamp: new Date().toISOString(),
                date: new Date().toLocaleDateString()
            };
            
            if (!userData.diaries) userData.diaries = [];
            userData.diaries.push(diaryEntry);
            localStorage.setItem('minchanData', JSON.stringify(userData));
            
            alert('ğŸ’Œ ì†Œì¤‘í•œ ë§ˆìŒì´ ê¸°ë¡ë˜ì—ˆì–´! ì–¸ì œë“  ë‹¤ì‹œ ì½ì–´ë³¼ ìˆ˜ ìˆì–´.');
            document.getElementById('emotionDiary').value = '';
        }

        // ë¦¬ë”ì‹­ ì°¨íŠ¸ ì´ˆê¸°í™”
        function initLeadershipChart() {
            const canvas = document.getElementById('leadershipChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            drawLeadershipRadar(ctx, canvas.width, canvas.height);
        }

        function drawLeadershipRadar(ctx, width, height) {
            const centerX = width / 2;
            const centerY = height / 2;
            const radius = Math.min(width, height) / 2 - 30;
            
            const stats = [
                { name: 'ê²°ë‹¨ë ¥', value: userData.leadership.decisiveness, color: '#e74c3c' },
                { name: 'ì¹´ë¦¬ìŠ¤ë§ˆ', value: userData.leadership.charisma, color: '#f39c12' },
                { name: 'í˜ì‹ ì„±', value: userData.leadership.innovation, color: '#9b59b6' },
                { name: 'ê³µì •ì„±', value: userData.leadership.fairness, color: '#3498db' }
            ];
            
            // ë°°ê²½ ì›ë“¤
            for (let i = 1; i <= 5; i++) {
                ctx.beginPath();
                ctx.arc(centerX, centerY, radius * i / 5, 0, 2 * Math.PI);
                ctx.strokeStyle = 'rgba(255,255,255,0.2)';
                ctx.lineWidth = 1;
                ctx.stroke();
            }
            
            // ì¶• ê·¸ë¦¬ê¸°
            stats.forEach((stat, index) => {
                const angle = (index * 2 * Math.PI / stats.length) - Math.PI / 2;
                const x = centerX + Math.cos(angle) * radius;
                const y = centerY + Math.sin(angle) * radius;
                
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(x, y);
                ctx.strokeStyle = 'rgba(255,255,255,0.3)';
                ctx.stroke();
                
                // ë¼ë²¨
                const labelX = centerX + Math.cos(angle) * (radius + 20);
                const labelY = centerY + Math.sin(angle) * (radius + 20);
                ctx.fillStyle = 'white';
                ctx.font = '12px sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText(stat.name, labelX, labelY);
                ctx.fillText(stat.value, labelX, labelY + 15);
            });
            
            // ëŠ¥ë ¥ì¹˜ ì˜ì—­
            ctx.beginPath();
            stats.forEach((stat, index) => {
                const angle = (index * 2 * Math.PI / stats.length) - Math.PI / 2;
                const x = centerX + Math.cos(angle) * radius * (stat.value / 100);
                const y = centerY + Math.sin(angle) * radius * (stat.value / 100);
                
                if (index === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });
            ctx.closePath();
            ctx.fillStyle = 'rgba(72, 219, 251, 0.3)';
            ctx.fill();
            ctx.strokeStyle = '#48dbfb';
            ctx.lineWidth = 2;
            ctx.stroke();
        }

        // ë¦¬ë”ì‹­ ì‹œë‚˜ë¦¬ì˜¤
        const leadershipScenarios = [
            {
                title: "íŒ€ í”„ë¡œì íŠ¸ ê°ˆë“± ìƒí™©",
                text: "íŒ€ì›ë“¤ì´ ì˜ê²¬ ì¶©ëŒë¡œ ì‹¸ìš°ê³  ìˆì–´. ë„ˆëŠ” íŒ€ì¥ìœ¼ë¡œì„œ ì–´ë–»ê²Œ í• ë˜?",
                choices: [
                    { text: "ê°ì ì˜ê²¬ì„ ì°¨ë¡€ë¡œ ë“¤ì–´ë³´ê³  í•©ì˜ì  ì°¾ê¸°", stats: { fairness: 5, charisma: 3 } },
                    { text: "ê°•ë ¥í•˜ê²Œ ê²°ì •í•˜ê³  ë”°ë¥´ë¼ê³  í•˜ê¸°", stats: { decisiveness: 5, innovation: -2 } },
                    { text: "ì°½ì˜ì ì¸ ì œ3ì˜ ë°©ë²• ì œì•ˆí•˜ê¸°", stats: { innovation: 5, charisma: 2 } }
                ]
            },
            {
                title: "ì¹œêµ¬ì˜ ë¶€ë‹¹í•œ ëŒ€ìš°",
                text: "ì„ ë°°ê°€ ì¹œêµ¬ë¥¼ ë¶€ë‹¹í•˜ê²Œ ëŒ€í•˜ëŠ” ê±¸ ëª©ê²©í–ˆì–´. ì–´ë–»ê²Œ í• ë˜?",
                choices: [
                    { text: "ì¦‰ì‹œ ê°œì…í•´ì„œ ì¹œêµ¬ë¥¼ ë³´í˜¸í•˜ê¸°", stats: { decisiveness: 4, fairness: 4 } },
                    { text: "ì„ ë°°ì™€ ê°œë³„ì ìœ¼ë¡œ ëŒ€í™”í•˜ê¸°", stats: { charisma: 4, fairness: 2 } },
                    { text: "ì„ ìƒë‹˜ê»˜ ì‹ ê³ í•˜ê¸°", stats: { fairness: 5, decisiveness: -1 } }
                ]
            },
            {
                title: "ìƒˆë¡œìš´ ì•„ì´ë””ì–´ ì œì•ˆ",
                text: "í•™ê¸‰ í™œë™ì— í˜ì‹ ì ì¸ ì•„ì´ë””ì–´ê°€ ìˆëŠ”ë°, ì¹œêµ¬ë“¤ì´ ë°˜ëŒ€í•´. ì–´ë–»ê²Œ í• ë˜?",
                choices: [
                    { text: "ëê¹Œì§€ ì„¤ë“í•´ì„œ ì¶”ì§„í•˜ê¸°", stats: { innovation: 5, charisma: 3 } },
                    { text: "ë‹¤ìˆ˜ì˜ ì˜ê²¬ì„ ì¡´ì¤‘í•˜ê³  í¬ê¸°í•˜ê¸°", stats: { fairness: 3, innovation: -2 } },
                    { text: "ì†Œê·œëª¨ë¡œ ë¨¼ì € ì‹œë„í•´ë³´ê¸°", stats: { innovation: 3, decisiveness: 3 } }
                ]
            }
        ];

        function loadRandomScenario() {
            const scenario = leadershipScenarios[Math.floor(Math.random() * leadershipScenarios.length)];
            
            document.getElementById('scenarioTitle').textContent = scenario.title;
            document.getElementById('scenarioText').textContent = scenario.text;
            
            const choicesDiv = document.getElementById('scenarioChoices');
            choicesDiv.innerHTML = '';
            
            scenario.choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.textContent = `${index + 1}. ${choice.text}`;
                button.onclick = () => handleChoice(choice);
                choicesDiv.appendChild(button);
            });
        }

        function handleChoice(choice) {
            // ëŠ¥ë ¥ì¹˜ ì—…ë°ì´íŠ¸
            Object.keys(choice.stats).forEach(stat => {
                userData.leadership[stat] = Math.max(0, Math.min(100, userData.leadership[stat] + choice.stats[stat]));
            });
            
            localStorage.setItem('minchanData', JSON.stringify(userData));
            
            // í”¼ë“œë°± í‘œì‹œ
            let feedback = "ì¢‹ì€ ì„ íƒì´ì•¼! ";
            const maxStat = Object.keys(choice.stats).reduce((a, b) => choice.stats[a] > choice.stats[b] ? a : b);
            
            switch(maxStat) {
                case 'decisiveness': feedback += "ê²°ë‹¨ë ¥ì´ í–¥ìƒë˜ì—ˆì–´! âš”ï¸"; break;
                case 'charisma': feedback += "ì¹´ë¦¬ìŠ¤ë§ˆê°€ ì¦ê°€í–ˆì–´! ğŸ¨"; break;
                case 'innovation': feedback += "í˜ì‹ ì„±ì´ ë°œì „í–ˆì–´! ğŸ’¥"; break;
                case 'fairness': feedback += "ê³µì •ì„±ì´ ê°•í™”ë˜ì—ˆì–´! âš–ï¸"; break;
            }
            
            alert(feedback);
            
            // ì°¨íŠ¸ ì—…ë°ì´íŠ¸
            initLeadershipChart();
            
            // ìƒˆ ì‹œë‚˜ë¦¬ì˜¤ ë¡œë“œ
            setTimeout(loadRandomScenario, 1000);
        }

        // ê³µìœ  ê¸°ëŠ¥
        function generateShareCard() {
            const canvas = document.getElementById('shareCard');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            
            // ë°°ê²½ ê·¸ë¼ë””ì–¸íŠ¸
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, '#667eea');
            gradient.addColorStop(1, '#764ba2');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // ì œëª©
            ctx.fillStyle = 'white';
            ctx.font = 'bold 24px sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('ê¶Œë¯¼ì°¬ì˜ ë³„ìë¦¬ ìš´ëª…', canvas.width/2, 50);
            
            // ë³„ì„±ë“¤
            const stars = [
                { name: 'ì¹ ì‚´ì„± - ì •ì˜ë¡œìš´ ì „ì‚¬', icon: 'âš”ï¸', y: 120 },
                { name: 'íƒë‘ì„± - ì°½ì˜ì  ì˜ˆìˆ ê°€', icon: 'ğŸ¨', y: 170 },
                { name: 'íŒŒêµ°ì„± - í˜ì‹ ì  ë³€í™”ì', icon: 'ğŸ’¥', y: 220 },
                { name: 'ì—¼ì •ì„± - ê³µì •í•œ ì‹¬íŒê´€', icon: 'âš–ï¸', y: 270 }
            ];
            
            stars.forEach(star => {
                ctx.font = '20px sans-serif';
                ctx.fillText(star.icon, 60, star.y);
                ctx.font = '16px sans-serif';
                ctx.textAlign = 'left';
                ctx.fillText(star.name, 100, star.y);
            });
            
            // ì„±ì¥ í˜„í™©
            ctx.textAlign = 'center';
            ctx.font = 'bold 18px sans-serif';
            ctx.fillText('ì„±ì¥ í˜„í™©', canvas.width/2, 350);
            
            const growth = [
                `ê°ì • ì¡°ì ˆ: ${userData.leadership.fairness}%`,
                `ì°½ì˜ì„±: ${userData.leadership.charisma}%`,
                `ë¦¬ë”ì‹­: ${userData.leadership.decisiveness}%`,
                `í˜ì‹ ì„±: ${userData.leadership.innovation}%`
            ];
            
            growth.forEach((item, index) => {
                ctx.font = '14px sans-serif';
                ctx.fillText(item, canvas.width/2, 380 + index * 25);
            });
            
            // í•˜ë‹¨ ë©”ì‹œì§€
            ctx.font = 'italic 12px sans-serif';
            ctx.fillText('15ì„¸, ë³„ë“¤ì´ ê¹¨ì–´ë‚˜ëŠ” ì‹œê¸° âœ¨', canvas.width/2, 520);
            ctx.fillText('ë„ˆë„ ìë¯¸ë‘ìˆ˜ í•´ë³´ë©´ ì¬ë°Œì„ ê±°ì•¼!', canvas.width/2, 540);
        }

        function setupShareOptions() {
            const includeMessage = document.getElementById('includeMessage');
            const personalMessage = document.getElementById('personalMessage');
            
            includeMessage.addEventListener('change', function() {
                personalMessage.style.display = this.checked ? 'block' : 'none';
            });
        }

        function shareToSocial(platform) {
            const canvas = document.getElementById('shareCard');
            const dataURL = canvas.toDataURL();
            
            const shareText = `ğŸŒŸ ë‚´ ìë¯¸ë‘ìˆ˜ ë¶„ì„ ê²°ê³¼!

âš”ï¸ ì¹ ì‚´ì„± - ì •ì˜ë¡œìš´ ì „ì‚¬
ğŸ¨ íƒë‘ì„± - ì°½ì˜ì  ì˜ˆìˆ ê°€  
ğŸ’¥ íŒŒêµ°ì„± - í˜ì‹ ì  ë³€í™”ì
âš–ï¸ ì—¼ì •ì„± - ê³µì •í•œ ì‹¬íŒê´€

15ì„¸ì¸ ì§€ê¸ˆì´ ë‚´ ë³„ë“¤ì´ ê¹¨ì–´ë‚˜ëŠ” ì‹œê¸°ë˜!
ë„ˆë„ ìë¯¸ë‘ìˆ˜ í•´ë³´ë©´ ì¬ë°Œì„ ê²ƒ ê°™ì•„! ğŸš€`;
            
            switch(platform) {
                case 'instagram':
                    // Instagramì€ ì§ì ‘ ê³µìœ ê°€ ë¶ˆê°€í•˜ë¯€ë¡œ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ + í´ë¦½ë³´ë“œ ë³µì‚¬
                    downloadImageAsFile(dataURL, 'minchan-zimidoushu.png');
                    navigator.clipboard.writeText(shareText);
                    alert('ğŸ“¸ ì´ë¯¸ì§€ê°€ ë‹¤ìš´ë¡œë“œë˜ê³  í…ìŠ¤íŠ¸ê°€ ë³µì‚¬ë˜ì—ˆì–´! Instagramì— ì˜¬ë ¤ë´!');
                    break;
                case 'kakao':
                    navigator.clipboard.writeText(shareText);
                    alert('ğŸ’¬ í…ìŠ¤íŠ¸ê°€ ë³µì‚¬ë˜ì—ˆì–´! ì¹´ì¹´ì˜¤í†¡ì— ë¶™ì—¬ë„£ê¸° í•´ë´!');
                    break;
                case 'twitter':
                    const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}`;
                    window.open(twitterUrl, '_blank');
                    break;
            }
        }

        function downloadCard() {
            const canvas = document.getElementById('shareCard');
            downloadImageAsFile(canvas.toDataURL(), 'minchan-zimidoushu-card.png');
        }

        // ê¶ ì¹´ë“œ í´ë¦­ íš¨ê³¼
        document.querySelectorAll('.palace-card').forEach(card => {
            card.addEventListener('click', () => {
                // ë‹¤ë¥¸ ì¹´ë“œë“¤ ë¹„í™œì„±í™”
                document.querySelectorAll('.palace-card').forEach(c => c.classList.remove('active'));
                // í´ë¦­í•œ ì¹´ë“œ í™œì„±í™”
                card.classList.add('active');
                
                // í•´ë‹¹ ê¶ì— ëŒ€í•œ ìƒì„¸ ì •ë³´ í‘œì‹œ
                const palaceName = card.querySelector('.palace-name').textContent;
                const starName = card.querySelector('.star-name').textContent;
                
                alert(`ğŸ“ ${palaceName} ìƒì„¸ ì •ë³´

â­ ì£¼ìš” ë³„: ${starName}

ì´ ê¶ì€ ê¶Œë¯¼ì°¬ì˜ ${getPalaceDescription(palaceName)}ì„ ë‚˜íƒ€ë‚´ëŠ” ì˜ì—­ì´ì•¼!

${starName}ì´ ì´ ìë¦¬ì— ìˆë‹¤ëŠ” ê²ƒì€ ${getStarMeaning(starName)}ë¥¼ ì˜ë¯¸í•´.

ì´ ì˜ì—­ì„ ë” ë°œì „ì‹œí‚¤ë ¤ë©´:
â€¢ ê´€ë ¨ í™œë™ì— ì ê·¹ ì°¸ì—¬í•˜ê¸°
â€¢ ê¸ì •ì ì¸ ì—ë„ˆì§€ ì§‘ì¤‘í•˜ê¸°  
â€¢ ê¾¸ì¤€í•œ ë…¸ë ¥ê³¼ ê´€ì‹¬ ê¸°ìš¸ì´ê¸°`);
            });
        });

        function getPalaceDescription(palace) {
            const descriptions = {
                'ì‹œì£¼ (ëª…ê¶)': 'í•µì‹¬ ì„±ê²©ê³¼ ìš´ëª…',
                'ì¼ì£¼ (í˜•ì œê¶)': 'í˜•ì œìë§¤ì™€ ì¹œêµ¬ ê´€ê³„',
                'ì›”ì£¼ (ë¶€ë¶€ê¶)': 'ë¯¸ë˜ì˜ ì—°ì• ì™€ ê²°í˜¼',
                'ë…„ì£¼ (ìë…€ê¶)': 'ìë…€ìš´ê³¼ ì°½ì¡°ë ¥',
                'í¸ê´€': 'ë„ì „ê³¼ ì—­ê²½ ê·¹ë³µë ¥',
                'ìƒê´€': 'ì°½ì˜ì„±ê³¼ í‘œí˜„ë ¥',
                'í¸ì¸': 'í•™ìŠµëŠ¥ë ¥ê³¼ ì§ê´€',
                'ì •ì¬': 'ì¬ë¬¼ìš´ê³¼ ì•ˆì •ì„±'
            };
            return descriptions[palace] || 'íŠ¹ë³„í•œ ì˜ë¯¸';
        }

        function getStarMeaning(star) {
            const meanings = {
                'ìë¯¸': 'í™©ì œì˜ ê¸°ì§ˆê³¼ ë¦¬ë”ì‹­ì„ ê°€ì¡Œë‹¤',
                'ì—¼ì •': 'ê°•í•œ ë„ë•ê´€ë…ê³¼ ì •ì˜ê°ì„ ì§€ë…”ë‹¤',
                'ë¬´ìˆ ': 'ë³€í™”ì™€ í˜ì‹ ì„ ì¶”êµ¬í•œë‹¤',
                'ì‹ ë¬˜': 'ì˜ˆìˆ ì  ê°ê°ê³¼ ì§ê°ì´ ë›°ì–´ë‚˜ë‹¤',
                'íŒŒêµ°': 'íŒŒê´´ì™€ ì°½ì¡°ì˜ í˜ì„ ë™ì‹œì— ê°€ì¡Œë‹¤',
                'ì': 'ì§€í˜œë¡­ê³  ì‚¬ë ¤ê¹Šì€ íŒë‹¨ë ¥ì„ ì§€ë…”ë‹¤',
                'ë¯¸': 'ì˜¨í™”í•˜ê³  ì¡°í™”ë¡œìš´ ì„±ê²©ì„ ê°€ì¡Œë‹¤'
            };
            return meanings[star] || 'íŠ¹ë³„í•œ ì˜ë¯¸ë¥¼ ê°€ì¡Œë‹¤';
        }

        // ë°ì´í„° ê´€ë¦¬ í•¨ìˆ˜ë“¤
        function saveUserProgress() {
            localStorage.setItem('minchanData', JSON.stringify(userData));
        }

        function loadUserProgress() {
            const saved = localStorage.getItem('minchanData');
            if (saved) {
                userData = JSON.parse(saved);
            }
        }

        // ì„±ì·¨ ì‹œìŠ¤í…œ
        function checkAchievements() {
            const achievements = [];
            
            if (userData.emotions.length >= 5) {
                achievements.push('ê°ì • íƒí—˜ê°€ - 5íšŒ ì´ìƒ ê°ì • ê¸°ë¡');
            }
            
            if (userData.artworks.length >= 3) {
                achievements.push('ì°½ì‘ ë§ˆìŠ¤í„° - 3ê°œ ì´ìƒ ì‘í’ˆ ì™„ì„±');
            }
            
            if (userData.leadership.decisiveness > 80) {
                achievements.push('ê²°ë‹¨ì˜ ì™• - ê²°ë‹¨ë ¥ 80ì  ëŒíŒŒ');
            }
            
            // ìƒˆë¡œìš´ ì„±ì·¨ê°€ ìˆìœ¼ë©´ ì•Œë¦¼
            const newAchievements = achievements.filter(a => !userData.achievements.includes(a));
            if (newAchievements.length > 0) {
                userData.achievements.push(...newAchievements);
                saveUserProgress();
                
                newAchievements.forEach(achievement => {
                    setTimeout(() => {
                        alert(`ğŸ† ìƒˆë¡œìš´ ì„±ì·¨ ë‹¬ì„±!\n\n${achievement}\n\nê³„ì† ì„±ì¥í•˜ê³  ìˆì–´! ì •ë§ ëŒ€ë‹¨í•´! âœ¨`);
                    }, 1000);
                });
            }
        }

        // ì¼ì¼ ì²´í¬ì¸ ì‹œìŠ¤í…œ
        function checkDailyLogin() {
            const today = new Date().toDateString();
            const lastLogin = localStorage.getItem('lastLogin');
            
            if (lastLogin !== today) {
                localStorage.setItem('lastLogin', today);
                
                setTimeout(() => {
                    alert(`ğŸŒ… ì•ˆë…•, ê¶Œë¯¼ì°¬! ì˜¤ëŠ˜ë„ ë³„ìë¦¬ ì—¬í–‰ì„ ì‹œì‘í•´ë³´ì!

ì˜¤ëŠ˜ì˜ ë¯¸ì…˜:
â­ ê°ì • ì²´í¬í•˜ê¸°
ğŸ¨ 10ë¶„ ì°½ì‘í•˜ê¸°  
ğŸ‘‘ ë¦¬ë”ì‹­ ì‹œë‚˜ë¦¬ì˜¤ 1ê°œ ë„ì „í•˜ê¸°

ì‘ì€ ì‹¤ì²œì´ í° ë³€í™”ë¥¼ ë§Œë“¤ì–´! í™”ì´íŒ…! ğŸ’ª`);
                }, 3000);
            }
        }

        // ìŠ¤í¬ë¡¤ íš¨ê³¼
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const parallax = document.querySelector('.header');
            if (parallax) {
                const speed = scrolled * 0.3;
                parallax.style.transform = `translateY(${speed}px)`;
            }
        });

        // í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case '1':
                        e.preventDefault();
                        openPersonalityTool();
                        break;
                    case '2':
                        e.preventDefault();
                        openCreativeSpace();
                        break;
                    case '3':
                        e.preventDefault();
                        openLeadershipTraining();
                        break;
                    case '4':
                        e.preventDefault();
                        shareFortune();
                        break;
                }
            }
            
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        function downloadImageAsFile(dataURL, filename) {
            const link = document.createElement('a');
            link.download = filename;
            link.href = dataURL;
            link.click();
        }
    </script>
</body>
</html>
